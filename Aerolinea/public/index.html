<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Aerolineas EXODUS</title>
        <script type="text/javascript" src="js/Ciudad.js"></script>
        <script type="text/javascript" src="js/Vuelo.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Cabin+Sketch|Love+Ya+Like+A+Sister" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

        <!-- Google Web Fonts -->
        <link href='https://fonts.googleapis.com/css?family=Poiret+One' rel='stylesheet' type='text/css'>    
        <link href='http://fonts.googleapis.com/css?family=Indie Flower&subset=latin,latin-ext' rel='stylesheet' type='text/css'>

        <!--Products-carousel CSS style -->
        <link href="css/product-carousel.css" rel="stylesheet">     

        <link rel="stylesheet" href="css/animate.css">   
        <link rel="stylesheet" title="normal" type="text/css" href="css/estilo.css">
        <link rel="stylesheet" title="normal" type="text/css" href="css/estilo.css">

        <link rel="stylesheet" title="normal" type="text/css" href="css/estilo.css">



    </head>
    <body>

        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>                        
                    </button>
                    <a class="navbar-brand" href="#"><span class="glyphicon glyphicon-plane"></span>&nbsp Aerolíneas EXODUS</a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="#">Inicio</a></li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Mi Perfil<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="#">Check-In</a></li>
                                <li><a href="#">Historial</a></li>
                            </ul>
                        </li>
                        <li><a href="usuario.html">Acerca de nosotros</a></li>
                        <li><a href="#">Contactenos</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                        <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
                    </ul>
                </div>
            </div>
        </nav>

    </div>
    <br><br>
    <div class="container text-center"><h1 class="text-center">Vuelos en descuento</h1>
        <div class="row">
            <div class="carousel slide row innerbkground" data-ride="carousel" data-type="multi" data-interval="3000" id="productscarousel">

                <div class="carousel-inner" id="carousel">


                </div>

                <a class="left carousel-control" href="#productscarousel" data-slide="prev"><i class="glyphicon glyphicon-chevron-left"></i></a>

                <a class="right carousel-control" href="#productscarousel" data-slide="next"><i class="glyphicon glyphicon-chevron-right"></i></a> 
            </div>
        </div>
        <div class="space">
        </div>
    </div>                                                       
    <!-- Complete range of products / small carousel ending here -->

    <!-- Required JavaScript libraris collection -->    
    <!--The jQuery library from local-->    
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <!-- Bootstrap library from local -->        
    <script type="text/javascript" src="js/bootstrap.min.js"></script>

    <!-- In own hosting -->
    <!-- <script src="js/wow.min.js"></script>-->

    <!-- In own hosting -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.0.3/wow.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>



    <script>
        function AirModel() {
            this.AirModel();
        }
        AirModel.prototype = {
            AirModel: function () {
                this.ciudades = this.initCiudades();
                this.vuelos = this.initVuelos();
                this.promo = this.initPromo();
                this.buscados = [];
            },

            initCiudades: function () {
                var ciudades = [
                    new Ciudad("SJO", "San José", "Costa Rica"),
                    new Ciudad("MIA", "Miami", "USA"),
                    new Ciudad("GYA", "Guayaquil", "Ecuador"),
                    new Ciudad("BTA", "Bogotá", "Colombia")
                ];
                return ciudades;
            },

            initPromo: function () {
                var promo = [
                    new Vuelo("00001", this.ciudades[0], this.ciudades[1], 200, "L", "08:00"),
                    new Vuelo("00002", this.ciudades[1], this.ciudades[0], 300, "M", "09:00"),
                    new Vuelo("00003", this.ciudades[2], this.ciudades[3], 400, "J", "10:00"),
                    new Vuelo("00004", this.ciudades[3], this.ciudades[2], 500, "V", "11:00")
                ];
                return promo;
            },

            initVuelos: function () {
                var vuelos = [
                    new Vuelo("00001", this.ciudades[0], this.ciudades[1], 200, "L", "08:00"),
                    new Vuelo("00002", this.ciudades[1], this.ciudades[0], 300, "M", "09:00"),
                    new Vuelo("00003", this.ciudades[2], this.ciudades[3], 400, "J", "10:00"),
                    new Vuelo("00004", this.ciudades[3], this.ciudades[2], 500, "V", "11:00")
                ];
                return vuelos;
            }




        };
    </script>
    <script> //Controller
        function AirController(model, view) {
            this.AirController(model, view);
        }

        AirController.prototype = {
            AirController: function (model, view) {
                this.model = model;
                this.view = view;
            },

            buscar: function () {
                var origen = this.view.$("#origen").val();
                var destino = this.view.$("#destino").val();
                model.buscados = model.vuelos.filter(
                        function (v) {
                            return((v.origen.codigo.includes(origen.codigo) && (v.destino.codigo.includes(destino.codigo))));
                        }
                );
                this.view.showBuscados();
            }
        };
    </script>
    <script> //View
        var model;
        var controller;

        function pageLoad(event) {
            model = new AirModel();
            controller = new AirController(model, window);
            showPromos(); //llenar el carousel  
            new WOW().init();
            jQuery('.carousel[data-type="multi"] .item').each(function () {
                var next = jQuery(this).next();
                if (!next.length) {
                    next = jQuery(this).siblings(':first');
                }
                next.children(':first-child').clone().appendTo(jQuery(this));

                for (var i = 0; i < 2; i++) {
                    next = next.next();
                    if (!next.length) {
                        next = jQuery(this).siblings(':first');
                    }
                    next.children(':first-child').clone().appendTo($(this));
                }
            });
        }

        function showPromos() {
            for (var a = 0; a < model.promo.length; a++)
            {
                addCarousel(model.promo[a]);
            }
        }
        function addCarousel(vuelo) {
            var c = document.getElementById("carousel");
            var item = "";
            item = c.childElementCount == 0 ? "item active" : "item";
            var a = "";
            a += "<div class=\"col-md-3 col-sm-4 col-xs-12\">";

            a += "<div class=\"spe-prods\">";
            a += "<div class=\"mainbox\">";
            a += "<h3>" + vuelo.origen.nombre + " - " + vuelo.destino.nombre + "</h3>";//encabezado de producto
            a += "<img src=\"img/" + vuelo.numero + ".jpg\" alt=\"\">";//link de imagen
            a += "</div>";
            a += "<div class=\"price-big\">";
            a += "<div>"
            a += "<div class=\"floatting-price\">";
            a += "<h3>$" + vuelo.precio + "</h3>";//precio
            a += "</div>";
            a += "<div class=\"month\">";
            a += "<p>/ piece</p>";
            a += "</div>";
            a += "</div>";
            a += "<div class=\"ordersection\">";
            a += "<a href=\"#\" class=\"buybtn\">Comprar</a>";
            a += "</div>";
            a += "</div>";
            a += "</div>";


            a += "</div>";
            var b = document.createElement("div");
            b.className=item;
            b.innerHTML = a;

            c.appendChild(b);
        }
        document.addEventListener("DOMContentLoaded",pageLoad)
    </script>


</body>
</html>
